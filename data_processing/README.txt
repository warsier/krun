Data Processing
===============

This directory demonstrates how to make plots and tables from raw data.

Available Targets
-----------------

Run `make TARGET' where `TARGET' is one of the following (times in brackets
indicate roughly how long things should take):

 * warmup_table.pdf (minutes)
   Generates a summary table for the warmup experiment using example data from
   the Linux_4790 machine (as seen in Appendix B of the paper).

 * dacapo_table.pdf (minutes)
   Generates a summary table for the Dacapo benchmark run on Hospot using
   example data from the Linux_4790 machine (as seen in Appendix A of
   the paper).

 * startup_table.pdf (minutes)
   Generates a summary table for the startup experiment using example data from
   the Linux_4790 machine (as seen in Section 6 of the paper).

 * instr_table.pdf (minutes)
   Generates a summary table using the example instrumentation mode data from
   the Linux_e3_1240v5 machine. The run is a smaller, using only HotSpot
   and PyPy.

 * fig1-left.pdf (minutes)
   Generates the plot shown in the left hand side of Figure 1 in the paper
   (albeit with all core-cycle plots) using example data from the Linux_4790
   machine. This target is provided to allow the user to see a plot quickly.
   The warmup_plots.pdf target generates many plots, but is very slow.

 * warmup_plots.pdf (hours to days)
   Generates plots for all warmup experiment data using example data from the
   Linux_4790 machine. This target is very slow (takes most part of a day on
   our systems).

 * instr_plots.pdf (minutes)
   Generates plots using the example instrumentation mode data from the
   Linux_e3_1240v5 machine. The run is a smaller, using only HotSpot and PyPy.
   Processing PyPy instrumentation data uses a phenomenal amount of memory,
   so we have stripped PyPy's instrumentation data. Only HotSpot pages will
   include JIT and GC plots.

 * your_warmup_plots.pdf (times depend on data size)
   Generates plots for warmup data you have created from within this virtual
   machine. For this to work, you must have first run the warmup experiment.
   See ../warmup_experiment/README.txt for instructions on how to do this.

 * your_warmup_table.pdf (minutes)
   Generates a summary table for warmup data you have created from within this
   virtual machine. For this to work, you must have first run the warmup
   experiment. See ../warmup_experiment/README.txt for instructions on how
   to do this.

 * your_startup_table.pdf (minutes)
   Generates a summary table for startup data you have created from within this
   virtual machine. For this to work, you must have first run the startup
   experiment. See ../warmup_experiment/README.txt for instructions on how
   to do this.

The above targets each generate a file of the same name.

Note that generating tables takes a little while as there is a bootstrapping
step involved.

Viewing PDF Files
-----------------

You can view the PDFs generated by the above steps by typing `startx' to start
a graphical session, navigating to this directory (which is linked on the
desktop for convenience), and double clicking a PDF file. This will open the
PDF in MuPDF. You will need to scroll to the second page for the table PDFs.
You can use the + and - keys to zoom in and out.

Note that VirtualBox seems to be quirky with regards to desktop resolutions.
You can change the resolution by clicking the "Applications Menu" in the top
left of the desktop, then going to "Settings", then "Display". Sadly changes to
resolution don't seem to persist, so you have to do this every time you start
the desktop.

A Note on Bootstrapping
-----------------------

The statistical routines use a non-deterministic bootstrapping method, so the
figures in the tables generated here will deviate slightly from those in the
paper.
